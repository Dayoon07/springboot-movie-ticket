<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.e.model.mapper.ReservationMapper">

	<resultMap id="ReservationResultMap" type="com.e.model.vo.ReservationVo">
	    <id property="reservationId" column="reservation_id" />
	    <result property="reservationDate" column="reservation_date" />
	    <result property="totalAmount" column="total_amount" />
	    <result property="reservationStatus" column="reservation_status" />
	    <result property="reservationCode" column="reservation_code" />
	    <result property="reservedSeats" column="reserved_seats" />
	    <result property="paymentMethod" column="payment_method" />
	    <result property="paymentDate" column="payment_date" />
	    <result property="paymentStatus" column="payment_status" />
	    <result property="transactionId" column="transaction_id" />
	
	    <association property="user" javaType="com.e.model.vo.UserVo" />
	    <association property="showtime" javaType="com.e.model.vo.ShowtimeVo" />
	</resultMap>
	
	<select id="findReservedSeatsByShowtimeId" resultType="string">
        SELECT reserved_seats
        FROM MOVIE_RESERVATIONS
        WHERE showtime_id = #{showtimeId}
          AND reservation_status = 'CONFIRMED'
    </select>
		

</mapper>